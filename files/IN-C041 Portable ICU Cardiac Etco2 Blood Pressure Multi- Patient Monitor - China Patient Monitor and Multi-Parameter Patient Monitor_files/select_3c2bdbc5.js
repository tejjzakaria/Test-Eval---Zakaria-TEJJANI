void function(){var n=util.templatify(util.tpl('\x3c!--## select ##--\x3e\r\n<div class="select">\r\n\t<div class="select-title J-select-title">\r\n\t\t<span class="select-label J-label" style="display:none"></span>\r\n\t\t<div class="select-selected">\r\n\t\t\t<span class="J-text"></span>\r\n\t\t</div>\r\n\t\t<div class="select-arrow J-arrow">\r\n\t\t\t<i class="micon">&#xe006;</i>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="select-list J-select-list">\r\n\t\t{{ if(isShowSearchBar){ }}\r\n\t\t\t<div class="ob-form select-search-bar">\r\n\t\t\t\t<input type="text" class="input-text select-search-keyword J-select-keyword" value="{{=keyword}}" placeholder="{{-placeholder}}">\r\n\t\t\t\t<button class="btn select-search-button"><i class="micon">&#xe040;</i></button>\r\n\t\t\t</div>\r\n\t\t{{ } }}\r\n\t\t<span class="J-result-place"></span>\r\n\t\t<div class="J-normal-list">\r\n\t\t\t{{ if(isShowTab){ }}\r\n\t\t\t\t<div class="select-tabs-wrap">\r\n\t\t\t\t\t<ul class="select-tabs J-select-tabs">\r\n\t\t\t\t\t\t{{ util.each(tabs, function(tab){ }}\r\n\t\t\t\t\t\t\t<li class="select-tab J-select-tab">{{=tab.name}}</li>\r\n\t\t\t\t\t\t{{ }); }}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t{{ } }}\r\n\r\n\t\t\t{{ util.each(tabs, function(tab){ }}\r\n\t\t\t\t<ul class="select-list-wrap J-select-tab-cnt">\r\n\t\t\t\t\t{{ util.each(tab.items, function(item){ }}\r\n\t\t\t\t\t\t{{ if(item.type === ITEM_TYPE.OPTION){ }}\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<a href="javascript:void(\'{{=item.name}}\')" cz-id="{{=item.id}}" class="select-opt J-opt{{ if(item.css){ }} {{=item.css}}{{ } }}{{ if(item.disabled){ }} disabled{{ } }}"{{ if(item.title){ }} title="{{-item.title}}"{{ } }}><label class="select-opt-text">{{=item.name}}</label></a>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t{{ }else if(item.type === ITEM_TYPE.GROUP){ }}\r\n\t\t\t\t\t\t\t<li class="select-group{{ if(isShowTab){ }} select-multab-group{{}}}">\r\n\t\t\t\t\t\t\t\t<dl>\r\n\t\t\t\t\t\t\t\t\t<dt class="select-opt-label{{ if(item.css){ }} {{=item.css}}{{ } }}"{{ if(item.title){ }} title="{{-item.title}}"{{ } }}>{{-item.name}}</dt>\r\n\t\t\t\t\t\t\t\t\t{{ util.each(item.children, function(child){ }}\r\n\t\t\t\t\t\t\t\t\t\t<dd class="select-opt-val"><a href="javascript:void(\'{{=child.name}}\')" cz-id="{{=child.id}}" cz-pid="{{=child.pid}}" class="select-opt J-opt{{ if(child.css){ }} {{=child.css}}{{ } }}{{ if(item.disabled){ }} disabled{{ } }}"{{ if(child.title){ }} title="{{-child.title}}"{{ } }}><label class="select-opt-text">{{=child.name}}</label></a></dd>\r\n\t\t\t\t\t\t\t\t\t{{ }) }}\r\n\t\t\t\t\t\t\t\t</dl>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t{{ } }}\r\n\t\t\t\t\t{{ }); }}\r\n\t\t\t\t</ul>\r\n\t\t\t{{ }); }}\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\x3c!--## end ##--\x3e\r\n\r\n\x3c!-- ## result ## --\x3e\r\n{{ if(keyword){ }}\r\n\t{{ if(searchedItems.length){ }}\r\n\t\t{{\r\n\t\t\tvar rkeyword = new RegExp("(" + keyword.replace("\\\\", "\\\\\\\\") + ")", "i");\r\n\t\t}}\r\n\t\t<ul class="select-list-wrap J-select-tab-cnt">\r\n\t\t\t{{ util.each(searchedItems, function(item){ }}\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<a href="javascript:void(\'{{=item.name}}\')" cz-id="{{=item.id}}" cz-pid="{{=item.pid}}" class="select-opt J-opt{{ if(item.css){ }} {{=item.css}}{{ } }}{{ if(item.disabled){ }} disabled{{ } }}"{{ if(item.title){ }} title="{{-item.title}}"{{ } }}><label class="select-opt-text">{{=item.name.replace(rkeyword, \'<span class="select-hl-keyword">$1</span>\')}}</label></a>\r\n\t\t\t\t</li>\r\n\t\t\t{{ }) }}\r\n\t\t</ul>\r\n\t{{ }else{ }}\r\n\t\t<div class="select-no-result">{{-searchNoResult}}</div>\r\n\t{{ } }}\r\n{{ }else{ }}\r\n\t\r\n{{ } }}\r\n\x3c!-- ## end ## --\x3e\r\n\r\n\x3c!--## title ##--\x3e\r\n<label class="select-opt-text">{{=name}}</label>\r\n\x3c!--## end ##--\x3e'));var r="select-";var c="select-duck";var a="select-tab";var o="::";var h="select-css";var u="cz-css";var d="select-label";var f="cz-label";var m="select-";var p={};var t={ELEMENT:"el",LOCAL_DATA:"data",REMOTE:"remote",DEFAULT:"el"};var _={OPTION:"option",GROUP:"group"};var s={UP:"up",DOWN:"down"};var b={VALUE:"value",TEXT:"text",ALL:"all"};var i={source:null,stype:t.DEFAULT,dir:s.DOWN,searchBar:false,placeholder:"",searchType:b.TEXT,searchNoResult:"未找到匹配“{{=keyword}}”的结果，请输入正确的名称。",ignoreCase:true,label:"",tmpl:n,emptySelect:{name:"请选择",value:"",id:"__EMPTY_OPTION__"},css:{focus:"focus",open:"open",selected:"selected",disabled:"disabled",up:"top",down:"",wrap:"",active:"active"},elems:{title:".J-select-title",text:".J-text",label:".J-label",arrow:".J-arrow",list:".J-select-list",option:".J-opt",ignore:".J-ignore-prevent",tabs:".J-select-tab",tabContents:".J-select-tab-cnt",resultPlace:".J-result-place",keyword:".J-select-keyword",normalList:".J-normal-list"}};var v=function t(e){this.config=util.extend(true,{},i,e);return this.__init()||this};v.prototype={constructor:v,__init:function t(){this._={};this.elems={};this._.baseId=0;this._.prevSelected=null;this._.selected=null;this._.isOpen=false;this._.isFocus=false;this._.keyword="";this._.searchedItems=[];this.elems.$source=$(this.config.source).first();if(!this.elems.$source.length){return null}if(this.elems.$source.attr(c)){return p[this.elems.$source.attr(c)]}observe(this);if(this.elems.$source.attr(a)){var e=this.elems.$source.attr(a).split(o);if(e.length&&e[0]){this._.tabname=e[0];this._.istabs=true;this.elems.$source=this.__fakeSelect($("select["+a+'^="'+e[0]+o+'"]'))}}this.sid=r+((new Date).valueOf()+util.random(1,1e3)).toString(16);this.elems.$source.attr(c,this.sid);p[this.sid]=this;var s=this.__resolveSource();this._.tabs=s.tabs;this._.items=s.items;this._.isDisabled=!!s.disabled;this._.plainItems=this.__plainItems(this._.items);var i=this._.defaultSelected||this.__firstOpt()||this.config.emptySelect;var l=this.elems.$source.attr(h)||this.elems.$source.attr(u)||"";this.config.css.wrap=$.trim(this.config.css.wrap+" "+l);this.config.label=this.elems.$source.attr(d)||this.elems.$source.attr(f)||this.config.label||"";this.config.tmpl=util.extend(true,{},n,this.config.tmpl);this.render();this.__bindEvents();this.elems.$source.hide();this.elems.$source.first().before(this.elems.$select);this.__initTab();this.label(this.config.label);this._select(i,true);this.__changeSelectedCss(this._.selected,this._.prevSelected);this._disabled(this._.isDisabled);this.close()},render:function t(){this.elems.$select&&this.elems.$select.remove();this.elems.$select=$(this.config.tmpl.select(util.extend(true,{},{tabs:this._.tabs,isShowTab:!!this._.istabs,ITEM_TYPE:_,isShowSearchBar:!!this.config.searchBar,keyword:this._.keyword||"",searchedItems:this._.searchedItems||[],placeholder:this.config.placeholder||"",searchNoResult:this.config.searchNoResult||"No result"})));this.elems.$resultPlace=$(this.config.elems.resultPlace,this.elems.$select);this.elems.$title=$(this.config.elems.title,this.elems.$select);this.elems.$text=$(this.config.elems.text,this.elems.$title);this.elems.$label=$(this.config.elems.label,this.elems.$title);this.elems.$arrow=$(this.config.elems.arrow,this.elems.$title);this.elems.$list=$(this.config.elems.list,this.elems.$select);this.elems.tabs=$(this.config.elems.tabs,this.elems.$select);this.elems.tabContents=$(this.config.elems.tabContents,this.elems.$select);this.elems.$keyword=$(this.config.elems.keyword,this.elems.$select);this.elems.$normalList=$(this.config.elems.normalList,this.elems.$select);var e="";if(this.config.dir===s.UP){e=this.config.css.up}else if(this.config.dir===s.DOWN){e=this.config.css.down}this.elems.$select.addClass(e);this.elems.$select.addClass(this.config.css.wrap)},renderResult:function t(){this.elems.$result&&this.elems.$result.remove();this.elems.$result=$(this.config.tmpl.result(util.extend(true,{},{tabs:this._.tabs,isShowTab:!!this._.istabs,ITEM_TYPE:_,isShowSearchBar:!!this.config.searchBar,keyword:this._.keyword||"",searchedItems:this._.searchedItems||[],placeholder:this.config.placeholder||"",searchNoResult:(this.config.searchNoResult||"No result").replace(/\{\{=\s*keyword\s*\}\}/g,this._.keyword)})));this.elems.$resultPlace.after(this.elems.$result);this.elems.$list=$(this.config.elems.list,this.elems.$select)},__chooseEvent:function t(){var c=this;this.elems.$list.off("click");this.elems.$list.on("click",this.config.elems.option+":not(."+this.config.css.disabled+")",function(t){c.focus();var e=this.getAttribute("cz-id");var s=this.getAttribute("cz-pid");var i=c._.items;var l=null;var n=null;var r=null;if(s){l=util.filter(i,function(t){return t.id+""===s})[0]}if(e){r=util.filter(l&&l.children||i,function(t){return t.id+""===e})[0]}c._select(r,false,"human")})},__uiEvents:function t(){var c=this;var e=function t(e){e.stopPropagation();if(!($(e.target).is(c.config.elems.ignore)||$(e.target).parents(c.config.elems.ignore).length&&$(e.currentTarget).find(c.config.elems.ignore).length)){e.preventDefault()}};this.elems.$select.on("click",e);$(document).on("click",function(){c.close();c.blur()});this.elems.$title.on("click",function(){c.focus();if(c.isOpen()){c.close()}else{c.open()}});this.__chooseEvent();this.elems.tabs.on("click",function(){c.selectTab(c.elems.tabs.index(this),"human")});if(this.config.searchBar){this.elems.$keyword.on("input keyup",function(t){if(t.keyCode===13||t.which===13){return}var r=$.trim(c.elems.$keyword.val());c._.keyword=r;if(r){c._.searchedItems=util.filter(c._.plainItems,function(t){var e=t.value;var s=t.name;var i=r;if(c.config.ignoreCase){e=e.toUpperCase();s=s.toUpperCase();i=i.toUpperCase()}var l=e.indexOf(i)!==-1;var n=s.indexOf(i)!==-1;if(c.config.searchType===b.ALL){return l||n}else if(c.config.searchType===b.VALUE){return l}else if(c.config.searchType===b.TEXT){return n}});c.renderResult();c.__chooseEvent();c.elems.$normalList.hide()}else{c.elems.$result&&c.elems.$result.remove();c.elems.$normalList.show()}})}},__bindEvents:function t(){var e=this;this.__uiEvents();this.on("select",function(t){this.close()});this.on("add del disabledOption",function(){this._.plainItems=this.__plainItems(this._.items);this.render();this.__uiEvents();this.elems.$source.first().before(this.elems.$select);this._select(this._.selected,"silent")});this.on("disabled",function(t){if(t){this.close();this.blur()}});this.on("focus",function(){util.each(p,function(t){if(t!==e){t.close();t.blur()}})});this.on("change",function(t){this.elems.$source.val(t.value);this.elems.$source.change()});this.on("change",function(t,e){this.__changeSelectedCss(t,e)});this.on("select",function(){this._.keyword="";this._.searchedItems=[];this.elems.$keyword&&this.elems.$keyword.val("");this.elems.$result&&this.elems.$result.remove();this.elems.$normalList.show()})},__changeSelectedCss:function t(e,s){if(s&&s.css){this.elems.$text.removeClass(s.css)}if(e.css){this.elems.$text.addClass(e.css)}},_select:function t(e,s,i){var l=!this._.selected||this._.selected.id!==e.id;this._.prevSelected=this._.selected;this._.selected=e;this.elems.$text.html(this.config.tmpl.title(e));$(this.config.elems.option,this.elems.$list).removeClass(this.config.css.selected).filter("[cz-id="+e.id+"]").addClass(this.config.css.selected);this.selectTab(e.tabid);this.elems.$source.val(e.value);if(!i){this._.nonHumanSelected=true}if(!s){this.fire("select",e,this._.prevSelected);if(l){this.fire("change",e,this._.prevSelected)}}},select:function t(e,s){this._select(e,s)},val:function t(e,s){if(typeof e!=="undefined"){var i=util.filter(this._.plainItems,function(t){return t.value===e})[0];if(i){this._select(i,s)}}else{return this._.selected&&this._.selected.value}},selectId:function t(e,s){var i=util.filter(this._.plainItems,function(t){return t.id+""===e+""})[0];if(i){this._select(i,s)}},empty:function t(){this._select(this.config.emptySelect,"silent");this.fire("empty")},label:function t(e){this.elems.$label.html(e);if(e){this.elems.$label.show()}else{this.elems.$label.hide()}},_positionSelected:function t(l){var n=this;if(this.isOpen()&&!this.isDisabled()){this.selectTab(l.tabid);setTimeout(function(){var t=n.elems.tabContents[l.tabid];var e=$(n.config.elems.option,n.elems.$list).filter("[cz-id="+l.id+"]")[0];if(t&&e){var s=t.getBoundingClientRect().top;var i=e.getBoundingClientRect().top;t.scrollTop=t.scrollTop+i-s}},0)}},open:function t(){if(!this.isOpen()&&!this.isDisabled()){this.elems.$select.addClass(this.config.css.open);this._.isOpen=true;if(this._.nonHumanSelected){var e=this._.selected;this._.nonHumanSelected=false;this._positionSelected(e)}this.fire("open")}},close:function t(){if(this.isOpen()&&this.elems.$select){this.elems.$select.removeClass(this.config.css.open);this._.isOpen=false;this.fire("close")}},isOpen:function t(){return this._.isOpen},focus:function t(){if(!this.isFocus()&&!this.isDisabled()&&this.elems.$select){this._.isFocus=true;this.elems.$select.addClass(this.config.css.focus);this.fire("focus")}},blur:function t(){if(this.isFocus()&&this.elems.$select){this._.isFocus=false;this.elems.$select.removeClass(this.config.css.focus);this.fire("blur")}},isFocus:function t(){return this._.isFocus},_disabled:function t(e,s){e=!!e;this._.isDisabled=e;this.elems.$select[e?"addClass":"removeClass"](this.config.css.disabled);this.elems.$source.attr("disabled",e);!s&&this.fire("disabled",e)},disabled:function t(e){this._disabled(e)},isDisabled:function t(){return!!this._.isDisabled},_disabledOption:function t(e,s,i){if(e){e.disabled=!!s;!i&&this.fire("disabledOption",e)}},disabledOption:function t(e,s){var i=this;if(typeof e==="function"){var l=e.call(this,this._.items);if(l.length){$.each(l,function(t,e){i._disabledOption(e,!!s)})}}else{this._disabledOption(e,!!s)}},disabledOptionById:function t(e,s){var i=util.filter(this._.plainItems,function(t){return t.id+""===e+""})[0];if(i){this._disabledOption(i,!!s)}},disabledByVal:function t(e,s){var i=this;var l=util.filter(this._.plainItems,function(t){return t.value+""===e+""});if(l.length){$.each(l,function(t,e){i._disabledOption(e,!!s)})}},addOption:function t(e,s,i,l,n){n=n||0;if(!this._.tabs[n]){n=0}var r={id:this._.baseId++,name:e,value:s,type:i===_.GROUP?_.GROUP:_.OPTION,tabid:n};util.extend(true,r,l);this._.items.push(r);this._.tabs[n].items.push(r);this.fire("add",r);return r},delOption:function t(e){var s=util.filter(this._.items,function(t){return t.id+""===e+""});if(s){this._.items=util.filter(this._.items,function(t){return t.id+""!==e+""});this._.tabs[s.tabid].items=util.filter(this._.tabs[s.tabid].items,function(t){return t.id+""!==e+""});this.fire("del",s)}},dispose:function t(){var e=this;setTimeout(function(){e.off();e.elems.$source&&e.elems.$source.show();e.elems.$select&&e.elems.$select.remove();e.elems.$source&&e.elems.$source.removeAttr(c);delete e.elems.$source;delete e.elems.$select;delete e.elems.$title;delete e.elems.$text;delete e.elems.$label;delete e.elems.$arrow;delete e.elems.$list;delete e.elems.tabs;delete e.elems.tabContents;delete e._.items;delete e._.tabs;delete p[e.sid]},0)},__firstOpt:function t(){return this._.plainItems[0]||null},__getCustomAttrs:function t(e,s){var i=e.attributes;for(var l=0;l<i.length;l++){var n=i[l].name;if(n.indexOf(m)===0){var r=n.substr(m.length);var c=e.getAttribute(n);try{!/^\s*$/.test(c)&&(c=new Function("return "+c)())}catch(t){}s[r]=c}}return s},__gpAttrs:function t(e){var i=this;var l={id:this._.baseId++,type:_.GROUP,name:e.getAttribute("label"),title:e.getAttribute("title"),children:[]};this.__getCustomAttrs(e,l);var n=l.tabid=l.tabid||0;$(e).children().each(function(t,e){var s=i.__optAttrs(e);s.pid=l.id;s.tabid=n;l.children.push(s)});return l},__optAttrs:function t(e){var s={id:this._.baseId++,type:_.OPTION,name:e.innerHTML,value:e.value,disabled:e.disabled,title:e.getAttribute("title")};this.__getCustomAttrs(e,s);if(e.selected){this._.defaultSelected=s}return s},__resolveSource:function t(){var l=this;var n=[];var r=[];this.elems.$source.children().each(function(t,e){var s=e.tagName.toUpperCase();var i=null;if(s==="OPTION"){i=l.__optAttrs(e)}else if(s==="OPTGROUP"){i=l.__gpAttrs(e)}r.push(i)});$.each(r,function(t,e){var s=e.tabid||0;var i=n[s];if(!i){i=n[s]={items:[],name:e.tabname}}delete e.tabname;i.items.push(e)});return{tabs:n,items:r,disabled:this.elems.$source[0].disabled}},__plainItems:function t(e){var s=[];if(e.length){util.each(e,function(t){if(t.type===_.OPTION){s.push(t)}else if(t.type===_.GROUP){[].push.apply(s,t.children)}})}return s},__initTab:function t(){this.selectTab(0)},selectTab:function t(e){e=e||0;this.elems.tabs.removeClass(this.config.css.active);this.elems.tabs.eq(e).addClass(this.config.css.active);this.elems.tabContents.hide().eq(e).show()},__fakeSelect:function t(e){var s=$(e);var i=s.map(function(t,e){var s=$(e);var i=s.attr(a).split(o)[1];return s.children().clone(true).attr({"select-tabid":t,"select-tabname":i})}).toArray();var l=s.filter("select[name]:first").clone(false).empty();if(!l.length){l=$("<select>")}$.each(i,function(t,e){l.append(e)});s.first().before(l);s.remove();return l}};v.instances=p;v.use=function(t,s){var i=[];var l={};$(t||"select").filter("select").filter(function(t,e){var s=$(e).attr(a);if(s){var i=s.split(o)[0];if(i in l){return false}else{l[i]=true;return true}}else{return true}}).each(function(t,e){i.push(new v($.extend(true,{},s,{source:e})))});return i};v.unuse=function(t){var e=[];var l={};$(t||"select").filter("select").filter(function(t,e){var s=$(e).attr(a);if(s){var i=s.split(o)[0];if(i in l){return false}else{l[i]=true;return true}}else{return true}}).each(function(t,e){if($(e).attr(c)){new v({source:e}).dispose()}})};v.reuse=function(t){v.unuse(t);setTimeout(function(){v.use(t)},0)};v.SEARCH_TYPE=b;if(typeof define==="function"){define(function(){return v})}else if(typeof module!=="undefined"&&"exports"in module){module.exports=v}else{window.Select=v}}.call(this);
//# sourceMappingURL=../../../../__sources__/common/js/assets/select2/select_3c2bdbc5.js.map
