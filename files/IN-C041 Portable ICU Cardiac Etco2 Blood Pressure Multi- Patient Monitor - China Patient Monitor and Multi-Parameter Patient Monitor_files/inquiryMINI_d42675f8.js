jQuery.extend(jQuery.easing,{easeInQuart:function t(e,i,a,n,s){return n*(i/=s)*i*i*i+a}});(function(s){s.path={};var o={rotate:function t(e,i){var a=i*Math.PI/180,n=Math.cos(a),s=Math.sin(a);return[n*e[0]-s*e[1],s*e[0]+n*e[1]]},scale:function t(e,i){return[i*e[0],i*e[1]]},add:function t(e,i){return[e[0]+i[0],e[1]+i[1]]},minus:function t(e,i){return[e[0]-i[0],e[1]-i[1]]}};s.path.bezier=function(t,r){t.start=s.extend({angle:0,length:.3333},t.start);t.end=s.extend({angle:0,length:.3333},t.end);this.p1=[t.start.x,t.start.y];this.p4=[t.end.x,t.end.y];var e=o.minus(this.p4,this.p1),i=o.scale(e,t.start.length),a=o.scale(e,-1),n=o.scale(a,t.end.length);i=o.rotate(i,t.start.angle);this.p2=o.add(this.p1,i);n=o.rotate(n,t.end.angle);this.p3=o.add(this.p4,n);this.f1=function(t){return t*t*t};this.f2=function(t){return 3*t*t*(1-t)};this.f3=function(t){return 3*t*(1-t)*(1-t)};this.f4=function(t){return(1-t)*(1-t)*(1-t)};this.css=function(t){var e=this.f1(t),i=this.f2(t),a=this.f3(t),n=this.f4(t),s={};if(r){s.prevX=this.x;s.prevY=this.y}s.x=this.x=this.p1[0]*e+this.p2[0]*i+this.p3[0]*a+this.p4[0]*n+.5|0;s.y=this.y=this.p1[1]*e+this.p2[1]*i+this.p3[1]*a+this.p4[1]*n+.5|0;s.left=s.x+"px";s.top=s.y+"px";return s}};s.path.arc=function(t,a){for(var e in t){this[e]=t[e]}this.dir=this.dir||1;while(this.start>this.end&&this.dir>0){this.start-=360}while(this.start<this.end&&this.dir<0){this.start+=360}this.css=function(t){var e=(this.start*t+this.end*(1-t))*Math.PI/180,i={};if(a){i.prevX=this.x;i.prevY=this.y}i.x=this.x=Math.sin(e)*this.radius+this.center[0]+.5|0;i.y=this.y=Math.cos(e)*this.radius+this.center[1]+.5|0;i.left=i.x+"px";i.top=i.y+"px";return i}};s.fx.step.path=function(t){var e=t.end.css(1-t.pos);if(e.prevX!=null){s.cssHooks.transform.set(t.elem,"rotate("+Math.atan2(e.prevY-e.y,e.prevX-e.x)+")")}t.elem.style.top=e.top;t.elem.style.left=e.left}})(jQuery);(function(k){function q(){}function x(t){X=[t]}function $(t,e,i){return t&&t.apply&&t.apply(e.context||e,i)}function M(t){return/\?/.test(t)?"&":"?"}var T="async",P="charset",D="",L="error",O="insertBefore",j="_jqjsp",t="on",B=t+"click",E=t+L,S=t+"load",A=t+"readystatechange",J="readyState",H="removeChild",N="<script>",R="success",U="timeout",K=window,z=k.Deferred,W=k("head")[0]||document.documentElement,Y={},Q=0,X,F={callback:j,url:location.href},V=K.opera,G=!!k("<div>").html("\x3c!--[if IE]><i><![endif]--\x3e").find("i").length;function e(e){e=k.extend({},F,e);var i=e.success,a=e.error,n=e.complete,s=e.dataFilter,t=e.callbackParameter,r=e.callback,o=e.cache,c=e.pageCache,l=e.charset,h=e.url,d=e.data,p=e.timeout,u,m=0,f=q,y,v,_,g,b,w;z&&z(function(t){t.done(i).fail(a);i=t.resolve;a=t.reject}).promise(e);e.abort=function(){!m++&&f()};if($(e.beforeSend,e,[e])===!1||m){return e}h=h||D;d=d?typeof d=="string"?d:k.param(d,e.traditional):D;h+=d?M(h)+d:D;t&&(h+=M(h)+encodeURIComponent(t)+"=?");!o&&!c&&(h+=M(h)+"_"+(new Date).getTime()+"=");h=h.replace(/=\?(&|$)/,"="+r+"$1");function I(t){if(!m++){f();c&&(Y[h]={s:[t]});s&&(t=s.apply(e,[t]));$(i,e,[t,R,e]);$(n,e,[e,R])}}function C(t){if(!m++){f();c&&t!=U&&(Y[h]=t);$(a,e,[e,t]);$(n,e,[e,t])}}if(c&&(u=Y[h])){u.s?I(u.s[0]):C(u)}else{K[r]=x;g=k(N)[0];g.id=j+Q++;if(l){g[P]=l}V&&V.version()<11.6?(b=k(N)[0]).text="document.getElementById('"+g.id+"')."+E+"()":g[T]=T;if(G){g.htmlFor=g.id;g.event=B}g[S]=g[E]=g[A]=function(t){if(!g[J]||!/i/.test(g[J])){try{g[B]&&g[B]()}catch(t){}t=X;X=0;t?I(t[0]):C(L)}};g.src=h;f=function t(e){w&&clearTimeout(w);g[A]=g[S]=g[E]=null;W[H](g);b&&W[H](b)};W[O](g,_=W.firstChild);b&&W[O](b,_);w=p>0&&setTimeout(function(){C(U)},p)}return e}e.setup=function(t){k.extend(F,t)};k.jsonp=e})(jQuery);(function(t,e){if(typeof module!=="undefined"&&module.exports){module.exports=e()}else if(typeof define==="function"&&define.amd){define(e)}else{t.InquiryMINI=e.call(t)}})(this,function(){"use strict";var t=null,e="&#xe007;",i="&#xe006;",a="//www.made-in-china.com/inquirybasket.do?action=inquiryList",l="//www.made-in-china.com/inquirybasket.do?action=addInquiry&type={type}&sourceId={id}&referrer="+encodeURIComponent(window.location.href),h="//www.made-in-china.com/inquirybasket.do?action=addInquiryList",r="//www.made-in-china.com/inquirybasket.do?action=deleteInquiry&type={type}&recordId={id}",n="//www.made-in-china.com/inquiry-basket/",f="//www.made-in-china.com/sendInquiry/{type}s_{ids}.html",y="//www.made-in-china.com/compare/{type}_{ids}.html?from=1&page=",v="//trading.made-in-china.com/start-order.html?from=2&prodId=",s=window.navigator.userAgent.match(/iPhone|iPad|iPod/i)?true:false;var o=function t(e,i,a){var n=(e||[]).slice();i=i||[];a=a||this;for(var s=0;s<n.length;s++){n[s].apply(a,i)}};function c(){if(!(this instanceof c))return new c;if(t)return t;t=this;this._={};this._.type=null;this._.typeMap={prod:"product",com:"supplier",o2o:"o2oProduct"};this._.typeInvertMap={product:"prod",supplier:"com",o2oProduct:"o2o"};this._.expand=false;this._.selected={};this._.isIE6=!+"/v1"&&!window.XMLHttpRequest;this._.animateOpts={speed:1e3,carrier:null,width:"auto",height:"auto"};this._.inquiryOpts={max:10,min:1,OVER_LIMIT:"Send inquiries on 10 items at most.",LESS_LIMIT:"Select at least 1 item to send inquiry."};this._.compareOpts={max:5,min:2,OVER_LIMIT:"Each time compare 5 items at most.",LESS_LIMIT:"Select at least 2 items to compare."};this._.orderOpts={min:1,max:100,OVER_LIMIT:"Start Order on 100 items at most.",LESS_LIMIT:"Select at least 1 item to start order."};this._.beforeInquiry=null;this._.beforeCompare=null;this._.afterRender=[];this.carrier=null;this.currentData=null;this.showItem=null;this.cacheData=null;this.style={};this.style.selected="ibselected";this.template={tab:function t(e){var i=e.o2oProduct&&e.o2oProduct.data;var a=i?i.reduce(function(t,e){return t+e.items.length},0):0;var n=a>0;var s=n?"in-basket-tab-3":"in-basket-tab-2";var r="";if(!n){r='style="display: none;"'}return['<ul class="in-basket-tab">','    <li class="in-basket-tab-item '+s+' J-productCount" data-Type="product">Products<span class="tab-count" style="margin-left:5px;">(<em>0</em>)</span></li>','    <li class="in-basket-tab-item '+s+' J-supplierCount" data-Type="supplier">Suppliers<span class="tab-count" style="margin-left:5px;">(<em>0</em>)</span></li>','    <li class="in-basket-tab-item '+s+' J-o2oProductCount" data-Type="o2oProduct" '+r+'>Exhibition<span class="tab-count" style="margin-left:5px;">(<em>0</em>)</span></li>',"</ul>"].join("")},nothing:'<div class="in-basket-nomsg">There are no {TYPE}s in your Inquiry Basket.</div>',list:['<div class="in-basket-wrap obelisk-form">','    <div class="in-basket-con J-productContent" style="display:none;">{PRODUCT}</div>','    <div class="in-basket-con in-basket-con-supplier J-supplierContent" style="display:none;">{SUPPLIER}</div>','    <div class="in-basket-con J-o2oProductContent" style="display:none;">{O2OPRODUCT}</div>',"</div>"].join(""),container:['<div id="in-basket">','    <div class="in-basket-main-info" id="J-inquiryControl">','        <i class="micon">&#xe020;</i>','        <span class="in-basket-main-info-txt">Inquiry Basket </span><span class="in-basket-main-info-txt J-inquiryTotal">(<em>0</em>/0)</span> ','        <i class="micon J-arr">&#xe007;</i>',"    </div>","</div>"].join(""),items:function t(e){return['{LIST}<div class="in-basket-tips J-inquiryError" style="display:none;"></div>',e.hasTrading?'<div class="in-basket-fun has-trading">':'<div class="in-basket-fun">','    <div class="input-checkbox">','       <label class="input-wrap">','           <input type="checkbox" class="J-inquiryCheckedAll">','           <span class="input-ctnr"></span> Select All',"       </label>","    </div>",'    <div class="in-basket-btn-group">',e.hasTrading?'        <a href="javascript:void(0);" rel="nofollow" class="btn btn-main-light btn-send J-sendInquiry" target="_blank">Send Inquiry</a>':'        <a href="javascript:void(0);" rel="nofollow" class="btn btn-main btn-send J-sendInquiry" target="_blank">Send Inquiry</a>','        <a href="javascript:void(0);" rel="nofollow" class="btn btn-compare J-compare" target="_blank">Compare</a>',"    </div>","</div>"].join("")},item:function t(e){var i="";var a="";if(e.shows&&e.shows.length){a+=$.map(e.shows,function(t){var e="";if(t.boothNo){e='<span class="tag tag-color tag-main" title="'+(t.name||"")+'">Booth No. '+t.boothNo+"</span>"}return e}).join("")}if(e.isOnlineTrading){a+=' <span class="tag tag-color tag-main" title="Online Trading">Online Trading</span>'}if(a){i='<div class="in-basket-tags">{TAGS}</div>'.replace("{TAGS}",a)}var n="";if(e.type!=="supplier"){n=['<div class="in-basket-pic-wrap">','    <div class="in-basket-pic">','        <a href="'+e.link+'">','            <img data-src="'+e.imgLink+'" />',"        </a>","    </div>","</div>"].join("")}return['<div class="in-basket-checker input-checkbox">','    <label class="input-wrap">','        <input type="checkbox" class="J-item-checkbox"'+(e.checked?"checked":"")+">",'        <span class="input-ctnr"></span>',"    </label>","</div>",n,'<div class="in-basket-text">','    <div class="in-basket-title">','        <a href="'+e.link+'" title="'+e.name+'" alt="'+e.name+'" target="_blank">'+e.name+"</a>","    </div>",i,"</div>",'<div class="in-basket-delete-wrap">','    <a href="javascript:void(0);" class="in-basket-delete"'+(s?'style="display:inline;"':"")+'><i class="micon">&#xe00c;</i></a>',"</div>"].join("")},companyItem:'<li class="in-basket-supplier J-companyName">'+'<div class="in-basket-name" title="{COMPANYNAME}">{COMPANYNAME}</div>'+"</li>"};this.config={add2basketTpl4Supplier:'<a title="Add to inquiry basket to compare." href="javascript:$fn" rel="nofollow"><i class="micon">&#xe05e;</i>Inquiry Basket</a>',alreadyTpl4Supplier:'<a style="text-decoration:none;" href="javascript:;" onclick="showMiniInquiry(\'supplier\');"><i class="micon">&#xe05f;</i>Inquiry Basket</a>'}}c.prototype.setConfig=function(t){var e=this;e.config=t};c.prototype._initEvent=function(){if(!this.carrier)throw"carrier must be exist.";var p=this;var u=null;this._.elems.inquiryControl.bind("click",function(t){if(!p._.expand){p.show.call(p)}else{p.hide.call(p)}t.stopPropagation()});this._.elems.tabMenu.children().bind("click",function(t){var e=$(this).attr("data-Type");p.switchType(e);t.stopPropagation()});function m(t){if(t[0].nodeName.toLowerCase()==="li"){return t}else{return t.parents("li")}}if(!s){this._.elems.list.bind("mouseover",function(t){var e=m($(t.target));if(!e.hasClass("in-basket-supplier")){e.addClass("hover")}});this._.elems.list.bind("mouseout",function(t){m($(t.target)).removeClass("hover")})}this._.elems.list.bind("click",function(t){var e=m($(t.target)),i=e.attr("data-ItemId"),a=e.attr("data-UrlId"),n=null;t.stopPropagation();if(e.hasClass("J-companyName")){return}var s=$(t.target);if(s.is(".input-checkbox")){s.closest("li[data-itemid]").trigger("click");return}if(s.is(".input-ctnr, .input-wrap")){return}p.showItem&&p.showItem.find(".J-inquiryError").hide();if(s.hasClass("in-basket-delete")||s.closest(".in-basket-delete").length){t.preventDefault();$(t.target).hide();p.removeItem(i,function(){e.fadeOut("slow",function(){if(e.prev().hasClass("J-companyName")&&(e.next().length===0||e.next().hasClass("J-companyName"))){e.prev().remove()}$(e).remove();p._autoScroll()});p._updateSelect.call(p,a,false)});return}if(s.hasClass("J-inquiryCheckedAll")){var r=s.prop("checked");if(r){p.showItem.find("li[data-itemid]:not(.ibselected)").trigger("click")}else{p.showItem.find("li[data-itemid].ibselected").trigger("click")}return}if(s.is(".input-checkbox")||s.closest(".input-checkbox").length){e.toggleClass("ibselected");p._updateSelect.call(p,a,e.hasClass("ibselected"));_.call(p);return}var o=s.closest(".input-checkbox").length===0&&(s.is("li[data-itemid]")||s.closest("li[data-itemid]").length&&s.is(":not(a, img)"));if(o){e.toggleClass("ibselected");var c=e.find(".J-item-checkbox");c.prop("checked",!c.prop("checked"));p._updateSelect.call(p,a,c.prop("checked"));_.call(p);return}if($(t.target).hasClass("J-sendInquiry")){n=p._transURL(f,p._.inquiryOpts);if(p._.type===p._.typeMap.o2o){if(n){n=n+"?"+$.param({from:"basket",type:"o2o"})}}else if(p._.beforeInquiry){u=p._.beforeInquiry(n);if(u){n=u}}if(n){$(t.target).attr("href",n)}else{t.preventDefault()}}if($(t.target).hasClass("J-compare")){var l=y;if(p._.beforeCompare){u=p._.beforeCompare(l);if(u){l=u}}n=p._transURL(l,p._.compareOpts);if(n){$(t.target).attr("href",n)}else{t.preventDefault()}}if($(t.target).is(".J-start-order-mini")){var l=v;if(p._.beforeOrder){u=p._.beforeOrder(l);if(u){l=u}}l=p._transURL(l,p._.orderOpts);var h=p.getSelectedItems();var d=[];$.each(p.cacheData.product&&p.cacheData.product.data,function(t,e){$.each(e.items,function(t,e){if($.inArray(e.urlId,h)!==-1&&e.isOnlineTrading){d.push(e.urlId)}})});if(d.length){t.target.href=l+d.join(",")}else{p._showError("There is no tradable product selected!");t.preventDefault()}}});$(document.body).bind("click",function(t){if($(t.target).parents("#in-basket").length===0&&$(t.target).parents(".already-in-basket").length===0){if(p._.expand&&$(t.target).parents(".add-to-basket").length===0){p.hide()}}});var a=false;this._.elems.list.bind("mousewheel",function(t){var e=t.originalEvent.detail||t.originalEvent.wheelDelta;var i=$(this).find("ul:visible")[0];if(e>0&&i.scrollTop===0||e<0&&i.scrollHeight===i.scrollTop+$(i).height()){a=true}else{a=false}});this._.elems.list.bind("mouseleave",function(){a=false});$(window).bind("mousewheel",function(t){if(a){t.preventDefault()}});$(window).bind("resize",function(){if(p._.expand){p._autoScroll()}});if(this._.isIE6){$(window).bind("scroll",function(){var t=parseInt(document.body.scrollTop?document.body.scrollTop:document.documentElement.scrollTop);p.carrier.css("top",t+parseInt(document.documentElement.clientHeight)-p.carrier.height()+"px")})}};function _(){var t=this._.selected[this._.type]&&this.showItem.find("li[data-itemid]").length===this._.selected[this._.type].length;this.showItem&&this.showItem.find(".J-inquiryCheckedAll").prop("checked",t)}c.prototype._updateSelect=function(t,e){if(!t)return this._.selected[this._.type];if(!this._.selected[this._.type])this._.selected[this._.type]=[];var i=this._.selected[this._.type].join(",");if(e&&i.indexOf(t)===-1){this._.selected[this._.type].push(t)}else{var a=this._.selected[this._.type].length;while(a>0){a--;if(this._.selected[this._.type][a]===t){this._.selected[this._.type].splice(a,1);return this._.selected}}}return this._.selected};c.prototype._initBasket=function(t){var e,i,a,r,o=t||this._.type,n=o.toUpperCase();function s(t){var e="",i="",a=this.getSelectedItems().join(","),n=false;for(r=0;r<t.length;r++){n=a.indexOf(t[r].urlId)!==-1;e=this.template.item({type:o,link:decodeURIComponent(t[r].redirectUrl),name:this._escape(t[r].name),shortDesc:t[r].shortCut,imgLink:decodeURIComponent(t[r].imgUrl),shows:t[r].expo||[],checked:n,isOnlineTrading:!!t[r].isOnlineTrading});var s=n?"ibselected":"";i+='<li class="in-basket-item '+s+'" data-ItemId="'+t[r].id+'" data-UrlId="'+t[r].urlId+'">'+e+"</li>"}return i}if(this.currentData&&this[o+"Count"]>0){i="<ul>";if((o==="product"||o==="o2oProduct")&&this.currentData.length){for(a=0;a<this.currentData.length;a++){i+=this.template.companyItem.replace(/{COMPANYNAME}/g,this._escape(this.currentData[a].name));if(this.currentData[a].items&&this.currentData[a].items.length){i+=s.call(this,this.currentData[a].items)}}}else{i+=s.call(this,this.currentData)}i+="</ul>";if((o==="product"||o==="o2oProduct")&&this.currentData.length){var c=false;$.each(this.currentData,function(t,e){$.each(e.items,function(t,e){if(e.isOnlineTrading){c=true}})});e=this.template.items({hasTrading:c}).replace("{LIST}",i)}else{e=this.template.items({}).replace("{LIST}",i)}}if(!this.currentData||this.currentData.length===0){e=this.template.nothing.replace("{TYPE}",o==="o2oProduct"?"exhibition product":n.toLowerCase())}this._.elems[o+"Content"]&&this._.elems[o+"Content"].html(e);this._lazyImage(this._.elems[o+"Content"]);_.call(this)};c.prototype._initCount=function(){this.o2oProductCount=this.supplierCount=this.supplierLimit=this.productCount=this.productLimit=0;if(this.cacheData){var t=this.cacheData;this.supplierCount=parseInt(t.supplier.data.length,10);this.supplierLimit=parseInt(t.supplier.limit,10);this.productLimit=parseInt(t.product.limit,10);var e=0;while(t.product&&t.product.data[e]){this.productCount+=t.product.data[e].items.length;e++}var i=0;while(t.o2oProduct&&t.o2oProduct.data[i]){this.o2oProductCount+=t.o2oProduct.data[i].items.length;i++}var a=t.o2oProduct&&t.o2oProduct.data;this.o2oProductCount=a?a.reduce(function(t,e){return t+e.items.length},0):0;this.totalCount=this.supplierCount+this.productCount+this.o2oProductCount}this._.elems.totalCount[0].innerHTML="(<em>"+this.totalCount+"</em>)";this._.elems.productCount[0].innerHTML="(<em>"+this.productCount+"</em>)";this._.elems.supplierCount[0].innerHTML="(<em>"+this.supplierCount+"</em>)";this._.elems.o2oProductCount[0].innerHTML="(<em>"+this.o2oProductCount+"</em>)"};c.prototype._escape=function(e){if(e){try{return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&#034;")}catch(t){return e}}return e};c.prototype._rePosition=function(t){var e=0,i=this,a=this.carrier.css("overflow")!=="hidden";if(this._.isIE6){this.carrier.css("top","auto")}if(a){e=parseInt(this._.elems.inquiryControl.outerHeight(),10)-parseInt(this.carrier.outerHeight(),10)}else{this.carrier.css({height:"auto",overflow:"visible"});this.carrier.css("bottom",parseInt(this._.elems.inquiryControl.outerHeight(),10)-parseInt(this.carrier.outerHeight(),10))}this.carrier.animate({bottom:e+"px"},400,"easeInQuart",function(){i._initCount.call(i);if(a){i.carrier.css({height:"34px",overflow:"hidden",bottom:0})}t&&t.call(i)})};c.prototype._animate=function(t,e){if(!this._.animateOpts.carrier)return;var i=this._.animateOpts,a=this.carrier;if(this._.expand){a=this._.elems.tabMenu}t=$(t);i.carrier.style.cssText="display:none;width:"+i.width+"px;height:"+i.height+"px;position:absolute; z-index:998;";t.show();var n={start:{x:t.offset().left,y:t.offset().top,angle:325.325,length:.458},end:{x:a.offset().left+parseInt(a.width())/2,y:a.offset().top,angle:39.018,length:.18}};document.body.appendChild(i.carrier);$(i.carrier).show();$(i.carrier).animate({path:new $.path.bezier(n)},i.speed,function(){$(i.carrier).hide(200);$(i.carrier).remove();e&&e()})};c.prototype._showError=function(t){var e=this;if(this._.timer)clearTimeout(this._.timer);this.showItem.find(".J-inquiryError").html(t).show();this._.timer=setTimeout(function(){e.showItem.find(".J-inquiryError").hide();e._.timer=null},4e3)};c.prototype._transURL=function(t,e){var i=this._.type===this._.typeMap.o2o?this._.typeMap.prod:this._.type;var a=this._.typeInvertMap[i]||this._.typeInvertMap.product,n=this.getSelectedItems();if(n.length<e.min){this._showError(e.LESS_LIMIT);return null}if(n.length>e.max){this._showError(e.OVER_LIMIT);return null}return t.replace("{type}",a).replace("{ids}",n.join(","))};c.prototype._getItemData=function(t,e){var i;if(t.length){for(var a=0,n=t.length;a<n;a++){if((this._.type==="product"||this._.type==="o2oProduct")&&t[a].items){i=this._getItemData(t[a].items,e);if(i)return i;continue}if(t[a].id==e){return t[a]}}}return null};c.prototype.geometric=function(t,e,i,a){var n={w:i,h:a};if(t<=i&&e<=a){return{w:t,h:e}}if(t/e>i/a){if(i<t)n.h=e*i/t}else{if(a<e)n.w=t*a/e}return n};c.prototype._lazyImage=function(t){if(!t)return;var e=t.find("img[data-src]"),i,a,n;var s=this;for(var r=0;r<e.length;r++){(function(t){if(!t.src){n=new Image;n.src=decodeURIComponent(t.getAttribute("data-src"));if(n.complete){a=s.geometric(n.width,n.height,50,50);t.width=a.w;t.height=a.h}else{n.onload=function(){return function(){a=s.geometric(this.width,this.height,50,50);t.width=a.w;t.height=a.h}}()}t.src=decodeURIComponent(t.getAttribute("data-src"))}})(e[r])}};c.prototype._autoScroll=function(){var t=this._.elems[this._.type+"Content"].find("ul");if(!t.length||!t.find("li").length||!this._.expand)return;t.css("height","auto");t.css("overflow","hidden");var e=t.outerHeight(),i=this._.elems[this._.type+"Content"].outerHeight()+72,a=document.documentElement.clientHeight-i,n=t.find("li[data-itemId]").outerHeight();e="auto";if(t.find(".J-companyName").length){n+=t.find(".J-companyName").outerHeight()}if(a<=200){e=document.documentElement.clientHeight-350;if(e<=n){e=n}t.css("height",e);t.css("overflow-y","auto")}};c.prototype.render=function(){this.getCrossData(a,function(t){this.cacheData=t;this.carrier=$(this.template.container);this._.elems={};this._.elems.inquiryControl=this.carrier.find("#J-inquiryControl");this._.elems.totalCount=this._.elems.inquiryControl.find(".J-inquiryTotal");this._.elems.arr=this._.elems.inquiryControl.find(".J-arr");this._.elems.list=$(this.template.list);this._.elems.productContent=this._.elems.list.find(".J-productContent");this._.elems.supplierContent=this._.elems.list.find(".J-supplierContent");this._.elems.o2oProductContent=this._.elems.list.find(".J-o2oProductContent");this.carrier.append(this._.elems.list);this._.elems.tabMenu=$(this.template.tab(t));this._.elems.productCount=this._.elems.tabMenu.find(".J-productCount>span");this._.elems.supplierCount=this._.elems.tabMenu.find(".J-supplierCount>span");this._.elems.o2oProductCount=this._.elems.tabMenu.find(".J-o2oProductCount>span");this.carrier.append(this._.elems.tabMenu);this.carrier.css({height:"34px",overflow:"hidden"});this._initCount();if(this.totalCount===0){this.carrier.css("display","none");$("body").removeClass("isMiniInquiry")}else{$("body").addClass("isMiniInquiry")}$(document.body).append(this.carrier);if(this._.isIE6){document.getElementsByTagName("html")[0].style.cssText="background-image:url(about:blank); background-attachment:fixed;";this.carrier.css({position:"absolute",right:"0px"})}this._initEvent();o(this._.afterRender,[null,t])},null,function(t,e){o(this._.afterRender,["Oops! An Error Occurred."])})};c.prototype.show=function(){this._.elems.tabMenu.children("[data-Type="+(this._.type||"product")+"]").trigger("click");if(this._.expand)return;this._.elems.arr.html(i);this._.expand=true;this._.elems.inquiryControl.addClass("in-basket-main-info-top");this._autoScroll();this._rePosition()};c.prototype.hide=function(){this._rePosition(function(){this._.elems.arr.html(e);this._.elems.inquiryControl.removeClass("in-basket-main-info-top");this._.expand=false})};c.prototype.addItem=function(t,e,i,a){var n=1,s=this,r=l.replace("{type}",e),o=this._.typeMap[e]||"product",c=t;this.carrier.css("display","");$("body").addClass("isMiniInquiry");if(i){this._.animateOpts.carrier=i.carrier||null;this._.animateOpts.start=i.start||null;this._.animateOpts.speed=i.speed||1e3;this._.animateOpts.width=i.width||"auto";this._.animateOpts.height=i.height||"auto"}if(Object.prototype.toString.call(t)==="[object Array]"){n=t.length;r=h;c="type="+e+"&sourceIds="+t.join("&sourceIds=")}if(this[o+"Count"]+n>this[o+"Limit"]){this.switchType(o);this._showError("You only can add "+this[o+"Limit"]+" or fewer "+o+"s.");this.show();return false}this.getCrossData(r,function(t){s.cacheData=t;s.currentData=t[o].data;s._animate.call(s,i.start,function(){s._initCount();a&&a(t);s.refresh(o);if(s._.expand){s._autoScroll()}if(!$(".in-basket-item[data-urlid=".concat(c,"]")).is(".ibselected")){$(".in-basket-item[data-urlid=".concat(c,"]")).trigger("click")}})},c)};c.prototype.removeItem=function(t,e){if(typeof t==="function"){this._.removeBack=t;return}var i=t,a=this,n=this.cacheData&&this.cacheData[this._.type],s=a._getItemData(this.currentData,t);if(Object.prototype.toString.call(t)==="[object Array]"){i=t.join(",")}this.getCrossData(r,function(t){a.cacheData=t;a.currentData=t[a._.type].data;e&&e();a._initBasket();if(a._.expand){a._autoScroll()}a._initCount();if(a._.removeBack&&s){a._.removeBack(s.urlId,a._.type,s.imgUrl)}if(this.totalCount===0){this.carrier.css("display","none");$("body").removeClass("isMiniInquiry")}},i)};c.prototype.refresh=function(t){this._initBasket(t);this.switchType(t)};c.prototype.clear=function(){this.cacheData.supplier.data=[];this.cacheData.product.data=[];this.cacheData.o2oProduct.data=[];this.currentData=null;this._initCount();if(this._.type){var t=["product","supplier","o2oProduct"];var e=t.indexOf(this._.type);e=e>=0?e:0;this._.type=t[(e+1)%t.length];this._initBasket()}this._rePosition()};c.prototype.getSelectedItems=function(){if(!this._.type||!this.cacheData[this._.type])return[];return this._.selected[this._.type]||[]};c.prototype.getCount=function(t){return this[this._.type+"Count"]?this[this._.type+"Count"]:0};c.prototype.switchType=function(t){if(this._.type===t||t!=="product"&&t!=="supplier"&&t!=="o2oProduct")return;this._.type=t;this.currentData=this.cacheData&&this.cacheData[this._.type].data;if(this.showItem){this.showItem.hide()}this._initCount();this.showItem=this._.elems[this._.type+"Content"];if(!this._[this._.type+"init"]){this._initBasket();this._[this._.type+"init"]=true}this._.elems.tabMenu.children().removeClass("ibselected");this._.elems.tabMenu.children("[data-type="+this._.type+"]").addClass("ibselected");this.showItem.show();this._autoScroll()};c.prototype.getCrossData=function(t,i,e,a){var n=this._.typeInvertMap[this._.type]||this._.typeInvertMap.product,s=this;t=t.replace("{type}",n);if(e&&t.indexOf("{id}")!==-1){t=t.replace("{id}",e);e=null}$.jsonp({url:t+"&_="+(new Date).getTime(),cache:false,callbackParameter:"jsoncallback",data:e||"",success:function t(e){i&&i.call(s,e)},complete:function t(){},error:function t(e,i){a&&a.call(s,e,i);throw"Oops! An Error Occurred."}})};c.prototype.beforeInquiry=function(t){this._.beforeInquiry=t};c.prototype.beforeCompare=function(t){this._.beforeCompare=t};c.prototype.afterRender=function(t){if(typeof t==="function"){this._.afterRender.push(t)}};return c});(function(){var t=document.createElement("link");t.type="text/css";t.rel="stylesheet";t.href="https://www.micstatic.com/common/js/business/plugs/inquiryMINI/min-basket_270cd218.css?t="+(new Date).getTime();document.getElementsByTagName("head")[0].appendChild(t)})();var ADD_TO_BASKET_CALLBACKS={doubleProduct:function t(e){var i=$("."+e);var a=$("."+e).length;var n=$("."+e+":lt(".concat(a/2,")"));var s=$("."+e+":gt(".concat(a/2-1,")"));if(i.attr("iconOnly")){i.attr("href","javascript:;");i.attr("title","").addClass("selected").html('<i class="micon">&#xe05f;</i>')}else{var r=$(IBalready);r.addClass(e);var o=function t(e){$(n[0]).parents(".act-item").html(e[0].outerHTML);$(s[0]).parents(".act-item").html(e[0].outerHTML)};if(i.parent().hasClass("js_abs")||i.parent().hasClass("basket-wrap")){r.append('<i class="micon">&#xe05f;</i>Inquiry Basket');o(r);$("."+e).parent().show()}else if(i.parent().hasClass("J-prodList")){i.parent().find(".tip-para").html("Inquiry Basket");i.parent().find(".tip-inquiry").addClass("tip-inquiry-already");r.append('<a style="text-decoration:none;" href="javascript:;" onclick="showMiniInquiry(\'product\');"><i class="ob-icon icon-cart-success"></i></a>');o(r)}else{r.append('<a style="text-decoration:none;" href="javascript:;" onclick="showMiniInquiry(\'product\');"><i class="micon">&#xe05f;</i>Inquiry Basket</a>');o(r)}}},product:function t(e){var i=$("."+e);if(i.attr("iconOnly")){i.attr("href","javascript:;");i.attr("title","").addClass("selected").html('<i class="micon">&#xe05f;</i>')}else{var a=$(IBalready);a.addClass(e);if(i.parent().hasClass("js_abs")||i.parent().hasClass("basket-wrap")){a.append('<i class="micon">&#xe05f;</i>Inquiry Basket');i.replaceWith(a);$("."+e).parent().show()}else if(i.parent().hasClass("J-prodList")){i.parent().find(".tip-para").html("Inquiry Basket");i.parent().find(".tip-inquiry").addClass("tip-inquiry-already");a.append('<a style="text-decoration:none;" href="javascript:;" onclick="showMiniInquiry(\'product\');"><i class="ob-icon icon-cart-success"></i></a>');i.replaceWith(a)}else{a.append('<a style="text-decoration:none;" href="javascript:;" onclick="showMiniInquiry(\'product\');"><i class="micon">&#xe05f;</i>Inquiry Basket</a>');i.replaceWith(a)}}},supplier:function t(e){var i=$("."+e);$("."+e+"Animate").remove();var a=$(IBalready);a.addClass(e);if(i.parent().hasClass("js_abs")||i.parent().hasClass("basket-wrap")){a.append('<i class="micon">&#xe05f;</i>Inquiry Basket');i.replaceWith(a);$("."+e).parent().show()}else if(i.parent().hasClass("J-prodList")){i.parent().find(".tip-para").html("Inquiry Basket");i.parent().find(".tip-inquiry").addClass("tip-inquiry-already");a.append('<a style="text-decoration:none;" href="javascript:;" onclick="showMiniInquiry(\'product\');"><i class="ob-icon icon-cart-success"></i></a>');i.replaceWith(a)}else{a.append('<a style="text-decoration:none;" href="javascript:;" onclick="showMiniInquiry(\'supplier\');"><i class="micon">&#xe05f;</i>Inquiry Basket</a>');i.replaceWith(a)}var n=a.parent().find("div.pic .micon");if(n.size()==1){a.find(".micon").remove();n.html("&#xe05f;");n.attr("title","");n.parent().attr("href","//www.made-in-china.com/inquiry-basket/");n.parent().attr("target","_blank")}},o2oProduct:function t(e){var i=$("."+e);if(i.attr("iconOnly")){i.attr("href","javascript:;");i.attr("title","").addClass("selected").html('<i class="micon">&#xe05f;</i>')}else{var a=$(IBalready);a.addClass(e);if(i.parent().hasClass("js_abs")||i.parent().hasClass("basket-wrap")){a.append('<i class="micon">&#xe05f;</i>Inquiry Basket');i.replaceWith(a);$("."+e).parent().show()}else if(i.parent().hasClass("J-prodList")){i.parent().find(".tip-para").html("Inquiry Basket");i.parent().find(".tip-inquiry").addClass("tip-inquiry-already");a.append('<a style="text-decoration:none;" href="javascript:;" onclick="showMiniInquiry(\'o2oProduct\');"><i class="ob-icon icon-cart-success"></i></a>');i.replaceWith(a)}else{a.append('<a style="text-decoration:none;" href="javascript:;" onclick="showMiniInquiry(\'o2oProduct\');"><i class="micon">&#xe05f;</i>Inquiry Basket</a>');i.replaceWith(a)}}}};var IBalready='<span class="already-in-basket link"></span>',IBadd='<span class="add-to-basket"></span>',IBadd2='<span class="add-to-basket"></span>',inquiryMini=new InquiryMINI;inquiryMini.afterRender(function(t,r){if(t){return}var o={product:"",supplier:"com-",o2oProduct:"o2o-"};"product,o2oProduct,supplier".replace(/\w+/g,function(t){var e=(r[t]||{}).data||[];for(var i=0;i<e.length;i++){var a=e[i].items||[];for(var n=0;n<a.length;n++){var s=a[n].urlId||a[n].id;s=o[t]+s;if($("."+s).is(".J-if-in-basket")){ADD_TO_BASKET_CALLBACKS[t](s)}}}})});inquiryMini.render();inquiryMini.beforeCompare(function(t){if($("#compareFromPage").length){return t+=$("#compareFromPage").val()}});inquiryMini.beforeInquiry(function(t){if($("#contactUrlParam").length){var e=$("#contactUrlParam").val();if(e!==""&&""!==t&&null!==t){if(e.indexOf("&event=basket")==-1){return t+e+"&event=basket"}else{return t+e}}}});function add2BasketProd(t,e,i){var a=document.createElement("div");var n=document.createElement("img");var s=new Image;var r=e;s.src=i;n.src=i;if(s.complete){var o=inquiryMini.geometric(s.width,s.height,50,50);n.width=o.w;n.height=o.h}else{n.width=50;n.heigth=50;s.onload=function(){return function(){o=inquiryMini.geometric(this.width,this.height,50,50);n.width=o.w;n.height=o.h}}()}a.appendChild(n);if(e&&e.indexOf("pro-")===0){r=e.substring(4,e.length)}inquiryMini.addItem(r,"prod",{start:$("."+e+":visible").eq(t),carrier:a},function(){ADD_TO_BASKET_CALLBACKS.doubleProduct(e);refreshHead()})}function add2BasketCom(t,e){var i=document.createElement("div");var a=document.createElement("img");var n=t;var s=$("."+n);a.src="https://www.micstatic.com/common/js/business/plugs/inquiryMINI/img/min-basket-com-logo_ceb1ede2.png";i.appendChild(a);i.className=n+"Animate";if(t&&t.indexOf("com-")===0){n=t.substring(4,t.length)}s.eq(0).parent().show();inquiryMini.addItem(n,"com",{start:$("."+t+":visible").eq(0),carrier:i},function(){ADD_TO_BASKET_CALLBACKS.supplier(t);refreshHead()})}function add2BasketO2o(t,e){var i=document.createElement("div");var a=document.createElement("img");var n=new Image;var s=t;n.src=e;a.src=e;if(n.complete){var r=inquiryMini.geometric(n.width,n.height,50,50);a.width=r.w;a.height=r.h}else{a.width=50;a.heigth=50;n.onload=function(){return function(){r=inquiryMini.geometric(this.width,this.height,50,50);a.width=r.w;a.height=r.h}}()}i.appendChild(a);if(t&&t.indexOf("o2o-")===0){s=t.substring(4,t.length)}inquiryMini.addItem(s,"o2o",{start:$("."+t+":visible").eq(0),carrier:i},function(){ADD_TO_BASKET_CALLBACKS.o2oProduct(t);refreshHead()})}function showMiniInquiry(t){if(inquiryMini){inquiryMini.switchType(t);inquiryMini.show()}return false}inquiryMini.removeItem(function(t,e,i){if(!t){return}var a={product:"pro-",supplier:"com-",o2oProduct:"o2o-"};var n={product:"add2BasketProd",supplier:"add2BasketCom",o2oProduct:"add2BasketO2o"};var s=$(IBadd),r=$("."+t),o=a[e]||a.product,c=n[e]||n.product,l=$(IBadd2);var h=$("."+t).length;var d=$("."+t+":lt(".concat(h/2,")"));var p=$("."+t+":gt(".concat(h/2-1,")"));var u=function t(e){$(d[0]).parents(".act-item").html(e[0].outerHTML);$(p[0]).parents(".act-item").html(e[0].outerHTML)};if(r.size()==0){r=$("."+o+t);h=r.length;d=$("."+o+t+":lt(".concat(h/2,")"));p=$("."+o+t+":gt(".concat(h/2-1,")"));t=o+t;s.addClass(t);s.append('<a title="Add to inquiry basket to compare." href="javascript:'+c+"('"+t+"', '"+i+'\')" rel="nofollow"><i class="micon">&#xe05e;</i>Inquiry Basket</a>');$(d[0]).parents(".act-item").html(s[0].outerHTML);$(p[0]).parents(".act-item").html(s[0].outerHTML)}else{if(r.attr("iconOnly")){r.attr("href","javascript:"+c+"('"+t+"', '"+i+"')");r.attr("title","Add to inquiry basket to compare.");r.removeClass("selected").html('<i class="micon">&#xe020;</i>')}else if(r.parent().hasClass("J-prodList")){r.parent().find(".tip-para").html("Add to inquiry basket to compare.");r.parent().find(".tip-inquiry").removeClass("tip-inquiry-already");s.addClass(t);s.append('<a href="javascript:'+c+"('"+t+"', '"+i+'\')" rel="nofollow"><i class="ob-icon icon-cart-add"></i></a>');u(s)}else{s.addClass(t);s.append('<a title="Add to inquiry basket to compare." href="javascript:'+c+"(0, '"+t+"', '"+i+'\')" rel="nofollow"><i class="micon">&#xe05e;</i>Inquiry Basket</a>');l.addClass(t);l.append('<a title="Add to inquiry basket to compare." href="javascript:'+c+"(1, '"+t+"', '"+i+'\')" rel="nofollow"><i class="micon">&#xe05e;</i>Inquiry Basket</a>');$(d[0]).parents(".act-item").html(s[0].outerHTML);$(p[0]).parents(".act-item").html(l[0].outerHTML);if($("."+t).parent().hasClass("js_abs")){$("."+t).parent().hide()}}}var m=s.parent().find("div.pic .micon");if(m.size()==1){s.find(".micon").remove();m.html("&#xe05e;");m.attr("title","Add to inquiry basket to compare.");m.parent().attr("href","javascript:add2BasketCom('"+t+"', '"+i+"')");m.parent().removeAttr("target")}refreshHead()});function refreshHead(){window.requestLogonStatus&&window.requestLogonStatus();window.logonRefresh&&window.logonRefresh()}function addCom2BasketNormally(i,a){var n=document.createElement("div");var t=document.createElement("img");t.src="https://www.micstatic.com/common/js/business/plugs/inquiryMINI/img/min-basket-com-logo_ceb1ede2.png";n.appendChild(t);var s=[i,"Animate",Math.floor(Math.random()*1e4)].join("-");n.className=s;return new Promise(function(t,e){inquiryMini.addItem(i,"com",{start:a,carrier:n},function(){$("."+s).remove();t()})})}
//# sourceMappingURL=../../../../__sources__/athena/2017/js/module/inquiryMINI_d42675f8.js.map
